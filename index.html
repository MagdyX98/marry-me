<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="theme-color" content="#0b0f1a" />
  <title>ğŸ’ Ø³Ø¤Ø§Ù„ ØµØºÙŠØ±</title>

  <style>
    :root{
      --bg1:#070a12;
      --bg2:#0b1630;
      --card: rgba(255,255,255,.08);
      --stroke: rgba(255,255,255,.14);
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.68);

      --yes1:#22c55e;
      --yes2:#16a34a;

      --no1:#ff4d6d;
      --no2:#c9184a;

      --shadow: 0 18px 60px rgba(0,0,0,.45);

      --radius: 28px;
      --btnRadius: 18px;
    }

    *{box-sizing:border-box}
    html,body{height:100%}

    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
      color:var(--text);
      overflow-x:hidden;
      background:
        radial-gradient(1200px 800px at 20% 10%, rgba(99,102,241,.35), transparent 60%),
        radial-gradient(900px 600px at 80% 20%, rgba(34,197,94,.25), transparent 55%),
        radial-gradient(1000px 700px at 55% 90%, rgba(255,77,109,.22), transparent 55%),
        linear-gradient(180deg, var(--bg1), var(--bg2));
      display:flex;
      align-items:center;
      justify-content:center;
      padding:18px;
    }

    .glow{
      position:fixed;
      inset:-40vh -30vw;
      background: conic-gradient(from 180deg, rgba(99,102,241,.18), rgba(34,197,94,.16), rgba(255,77,109,.14), rgba(99,102,241,.18));
      filter: blur(70px);
      opacity:.7;
      animation: float 10s ease-in-out infinite;
      pointer-events:none;
      z-index:0;
    }
    @keyframes float{
      0%,100%{ transform: translate3d(0,0,0) rotate(0deg); }
      50%{ transform: translate3d(2vw,-2vh,0) rotate(8deg); }
    }

    /* Card */
    .card{
      width:min(580px, 100%);
      background: var(--card);
      border:1px solid var(--stroke);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      backdrop-filter: blur(14px);
      -webkit-backdrop-filter: blur(14px);
      position:relative;
      z-index:1;
      overflow:hidden;
      transform: translateY(2px);
    }
    .card::before{
      content:"";
      position:absolute;
      inset:-2px;
      background:
        radial-gradient(520px 260px at 30% 0%, rgba(255,255,255,.16), transparent 60%),
        radial-gradient(420px 280px at 80% 20%, rgba(99,102,241,.18), transparent 55%);
      pointer-events:none;
    }

    header{
      padding:26px 22px 10px;
      text-align:center;
      position:relative;
    }

    .badge{
      display:inline-flex;
      gap:8px;
      align-items:center;
      padding:8px 12px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.16);
      background: rgba(255,255,255,.06);
      color:var(--muted);
      font-size:12px;
      letter-spacing:.2px;
      user-select:none;
    }

    h1{
      margin:14px 0 8px;
      font-size: clamp(24px, 4.3vw, 36px);
      line-height:1.12;
      letter-spacing:-.6px;
    }

    p{
      margin:0;
      color:var(--muted);
      font-size: 14.5px;
    }

    .content{
      padding:18px 22px 26px;
    }

    .question{
      margin:18px 0 10px;
      display:flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      font-size: clamp(24px, 4.6vw, 40px);
      font-weight:900;
      letter-spacing:-.5px;
      text-align:center;
    }

    .question span{
      background: linear-gradient(90deg, rgba(255,255,255,.96), rgba(255,255,255,.72));
      -webkit-background-clip:text;
      background-clip:text;
      color:transparent;
      text-shadow: 0 18px 50px rgba(0,0,0,.22);
    }

    .subhint{
      margin-top:8px;
      text-align:center;
      color:rgba(255,255,255,.62);
      font-size:13px;
      line-height:1.45;
    }

    .buttons{
      display:flex;
      gap:12px;
      justify-content:center;
      flex-wrap:wrap;
      margin-top:16px;
      position:relative;
      padding-bottom:6px;
    }

    button{
      border:0;
      cursor:pointer;
      padding:14px 18px;
      border-radius: var(--btnRadius);
      font-weight:900;
      font-size:16px;
      color:white;
      min-width: 160px;
      transform: translateZ(0);
      transition: transform .18s ease, filter .18s ease, box-shadow .18s ease;
      box-shadow: 0 14px 34px rgba(0,0,0,.28);
      user-select:none;
      -webkit-tap-highlight-color: transparent;
      touch-action: manipulation;
      position:relative;
    }

    button:focus-visible{
      outline: 2px solid rgba(255,255,255,.55);
      outline-offset: 3px;
    }

    button:active{ transform: scale(.98); }

    #yesBtn{
      background: linear-gradient(180deg, var(--yes1), var(--yes2));
      outline: 1px solid rgba(255,255,255,.12);
    }
    #yesBtn::after{
      content:"";
      position:absolute;
      inset:0;
      border-radius: var(--btnRadius);
      background: radial-gradient(240px 90px at 30% 20%, rgba(255,255,255,.35), transparent 55%);
      pointer-events:none;
      opacity:.95;
      mix-blend-mode: screen;
    }

    #noBtn{
      background: linear-gradient(180deg, var(--no1), var(--no2));
      outline: 1px solid rgba(255,255,255,.12);
      transform-origin: center;
    }

    /* Tiny pulse when No clicked */
    .shake{ animation: shake .22s ease; }
    @keyframes shake{
      0%{transform:translateX(0)}
      33%{transform:translateX(-6px)}
      66%{transform:translateX(6px)}
      100%{transform:translateX(0)}
    }

    /* Success view */
    .success{
      display:none;
      padding: 8px 22px 26px;
      text-align:center;
      position:relative;
    }

    .photoWrap{
      margin:14px auto 12px;
      width:min(440px, 100%);
      border-radius:22px;
      overflow:hidden;
      border:1px solid rgba(255,255,255,.16);
      box-shadow: 0 18px 60px rgba(0,0,0,.42);
      transform: translateY(10px);
      opacity:0;
      animation: popIn .6s cubic-bezier(.2,.9,.2,1) forwards;
      background: rgba(255,255,255,.06);
    }

    .photoWrap img{
      width:100%;
      height:auto;
      display:block;
    }

    @keyframes popIn{
      to{ transform: translateY(0); opacity:1; }
    }

    .love{
      font-size: clamp(20px, 4.6vw, 34px);
      font-weight:1000;
      letter-spacing:-.4px;
      margin-top:10px;
      background: linear-gradient(90deg, rgba(255,255,255,.95), rgba(34,197,94,.85));
      -webkit-background-clip:text;
      background-clip:text;
      color:transparent;
      opacity:0;
      transform: translateY(6px);
      animation: fadeUp .55s ease .14s forwards;
    }

    .miniText{
      margin-top:6px;
      color:rgba(255,255,255,.64);
      font-size:13px;
    }

    @keyframes fadeUp{
      to{ transform: translateY(0); opacity:1; }
    }

    /* Confetti */
    canvas.confetti{
      position:fixed;
      inset:0;
      pointer-events:none;
      z-index: 9;
    }

    .footer{
      padding: 10px 22px 18px;
      text-align:center;
      color:rgba(255,255,255,.45);
      font-size:12px;
    }

    /* Respect reduced motion */
    @media (prefers-reduced-motion: reduce){
      *{ animation:none !important; transition:none !important; }
    }
  </style>
</head>

<body>
  <div class="glow"></div>
  <canvas class="confetti" id="confetti"></canvas>

  <main class="card" aria-live="polite">
    <header>
      <div class="badge">ğŸ’ Ø³Ø¤Ø§Ù„ Ø®Ø§Øµ â€¢ Ø§Ø®ØªØ§Ø± ØµØ­</div>
      <h1>Ù„Ø­Ø¸Ø© ØµØºÙŠØ±Ø©â€¦</h1>
      <p>ØµÙØ­Ø© Ø®ÙÙŠÙØ© ÙˆÙ„Ø·ÙŠÙØ© â€” Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„.</p>
    </header>

    <section class="content" id="askView">
      <div class="question">
        <span>Ù‡Ù†ØªØ¬ÙˆØ² Ø§Ù…ØªÙ‡ØŸ</span>
      </div>

      <div class="subhint">Ø¬Ø±Ù‘Ø¨ ØªØ¯ÙˆØ³ â€œÙ…Ø´ Ø¯Ù„ÙˆÙ‚ØªÙŠâ€â€¦ Ø¨Ø³ Ø¹Ù„Ù‰ Ù…Ø³Ø¤ÙˆÙ„ÙŠØªÙƒ ğŸ˜„</div>

      <div class="buttons" id="btnRow">
        <button id="yesBtn" type="button">ÙŠÙ„Ø§ Ø¨ÙŠÙ†Ø§ ğŸ¤</button>
        <button id="noBtn" type="button">Ù…Ø´ Ø¯Ù„ÙˆÙ‚ØªÙŠ ğŸ™ƒ</button>
      </div>
    </section>

    <section class="success" id="successView">
      <div class="photoWrap">
        <!-- Ø­Ø· Ø±Ø§Ø¨Ø· ØµÙˆØ±ØªÙƒÙ… Ù‡Ù†Ø§ (direct image URL) -->
        <img id="coupleImg" alt="ØµÙˆØ±ØªÙ†Ø§" src="https://cdn.shopify.com/s/files/1/0708/1433/5150/files/WhatsApp_Image_2026-02-04_at_7.49.04_PM.jpg?v=1770231479" />
      </div>
      <div class="love">Ø¨Ø­Ø¨Ùƒ â¤ï¸</div>
      <div class="miniText">ÙˆØ¨Ø¬Ø¯â€¦ Ø±Ø¨Ù†Ø§ ÙŠØªÙ…Ù… Ø¨Ø®ÙŠØ± ğŸ¤</div>
    </section>

    <div class="footer">Â© ØµÙØ­Ø© ØµØºÙŠØ±Ø© Ø¨Ø³ Ø³Ø¤Ø§Ù„ ÙƒØ¨ÙŠØ±.</div>
  </main>

  <script>
    const yesBtn = document.getElementById('yesBtn');
    const noBtn  = document.getElementById('noBtn');
    const askView = document.getElementById('askView');
    const successView = document.getElementById('successView');
    const img = document.getElementById('coupleImg');
    const btnRow = document.getElementById('btnRow');

    let yesScale = 1;
    let noClicks = 0;

    function clamp(n, min, max){ return Math.max(min, Math.min(max, n)); }

    // Move the "No" button slightly to make it playful (desktop + mobile safe)
    function dodgeNo(){
      const rect = btnRow.getBoundingClientRect();
      const maxX = Math.max(0, rect.width * 0.18);
      const maxY = 18;

      const x = (Math.random() * 2 - 1) * maxX;
      const y = (Math.random() * 2 - 1) * maxY;

      noBtn.style.transform = `translate(${x}px, ${y}px)`;
    }

    function growYes(){
      noClicks++;

      // Smooth progressive growth
      const bump = 0.16 + Math.min(noClicks * 0.02, 0.22);
      yesScale = clamp(yesScale + bump, 1, 2.75);

      yesBtn.style.transform = `scale(${yesScale})`;
      yesBtn.style.filter = `brightness(${1 + Math.min(noClicks*0.04, 0.32)})`;
      yesBtn.style.boxShadow = `0 22px 80px rgba(34,197,94, ${0.18 + Math.min(noClicks*0.045, 0.26)})`;

      // Little shake + dodge
      noBtn.classList.remove('shake');
      void noBtn.offsetWidth;
      noBtn.classList.add('shake');
      dodgeNo();

      // Cute text nudges
      if (noClicks === 2) noBtn.textContent = "Ù…ØªØ£ÙƒØ¯ØŸ ğŸ¤¨";
      if (noClicks === 4) noBtn.textContent = "Ù„Ø³Ù‡ Ù…Ø´ Ø¯Ù„ÙˆÙ‚ØªÙŠØŸ ğŸ˜…";
      if (noClicks === 6) noBtn.textContent = "Ø®Ù„Ø§Øµ Ø¨Ù‚Ù‰ ğŸ™ˆ";
      if (noClicks >= 8) noBtn.textContent = "Ù…Ø´ Ù‡ØªÙ‚Ø¯Ø± ğŸ˜Œ";
    }

    // Click/Touch on "No"
    noBtn.addEventListener('click', growYes);
    // Bonus: on hover (desktop) to make it harder
    noBtn.addEventListener('mouseenter', () => { if (noClicks >= 2) dodgeNo(); });

    // Yes -> success
    yesBtn.addEventListener('click', () => {
      // If you forgot to replace the image, use a nice placeholder
      if (!img.src || img.src.includes("cdn.shopify.com/s/files/1/0708/1433/5150/files/WhatsApp_Image_2026-02-04_at_7.49.04_PM.jpg")) {
        img.src = "https://images.unsplash.com/photo-1529634892058-3f3f9f126f64?auto=format&fit=crop&w=1400&q=80";
      }

      askView.style.display = 'none';
      successView.style.display = 'block';

      startConfetti();

      yesBtn.disabled = true;
      noBtn.disabled = true;
      noBtn.style.transform = "none";
    });

    // Confetti (lightweight)
    const canvas = document.getElementById('confetti');
    const ctx = canvas.getContext('2d');
    let W, H, pieces = [], raf;

    function resize(){
      const dpr = window.devicePixelRatio || 1;
      W = canvas.width = Math.floor(window.innerWidth * dpr);
      H = canvas.height = Math.floor(window.innerHeight * dpr);
      ctx.setTransform(1,0,0,1,0,0);
    }
    window.addEventListener('resize', resize, {passive:true});
    resize();

    function makePieces(){
      pieces = [];
      const dpr = window.devicePixelRatio || 1;
      const count = Math.min(260, Math.floor(window.innerWidth * 0.42));
      for(let i=0;i<count;i++){
        pieces.push({
          x: Math.random()*W,
          y: -Math.random()*H*0.35,
          r: (6 + Math.random()*10) * dpr,
          vy: (2.2 + Math.random()*4.6) * dpr,
          vx: (-1.2 + Math.random()*2.4) * dpr,
          rot: Math.random()*Math.PI,
          vr: (-0.09 + Math.random()*0.18),
          a: 0.9,
        });
      }
    }

    function draw(){
      ctx.clearRect(0,0,W,H);

      for(const p of pieces){
        p.x += p.vx;
        p.y += p.vy;
        p.rot += p.vr;
        p.a *= 0.996;

        if (p.x < -60) p.x = W+60;
        if (p.x > W+60) p.x = -60;

        const g = ctx.createLinearGradient(p.x, p.y, p.x + p.r, p.y + p.r);
        g.addColorStop(0, `rgba(255,255,255,${0.92*p.a})`);
        g.addColorStop(1, `rgba(34,197,94,${0.86*p.a})`);

        ctx.save();
        ctx.translate(p.x, p.y);
        ctx.rotate(p.rot);
        ctx.fillStyle = g;
        ctx.globalAlpha = p.a;
        ctx.fillRect(-p.r/2, -p.r/2, p.r, p.r*0.62);
        ctx.restore();
      }

      const alive = pieces.some(p => p.y < H + 140 && p.a > 0.08);
      if (alive) raf = requestAnimationFrame(draw);
      else ctx.clearRect(0,0,W,H);
    }

    function startConfetti(){
      makePieces();
      cancelAnimationFrame(raf);
      draw();
    }
  </script>
</body>
</html>
